/*
 * OKVideo by OKFocus v1.0.0
 * http://okfoc.us 
 *
 * Copyright 2012, OKFocus
 * Licensed under the MIT license.
 *
 */
var player,OKEvents;
(function(a){a.okvideo=function(c){"object"!==typeof c&&(c={source:c});var b=this;b.init=function(){b.options=a.extend({},a.okvideo.options,c);a("body").append('<div style="position:fixed;left:0;top:0;overflow:hidden;z-index:-998;height:100%;width:100%;" id="okplayer-mask"></div><div id="okplayer" style="position:fixed;left:0;top:0;overflow:hidden;z-index:-999;height:100%;width:100%;"></div>');b.setOptions();"youtube"===b.options.source.provider?b.loadYoutubeAPI():"vimeo"===b.options.source.provider&&b.loadVimeoAPI()};
b.setOptions=function(){b.options.source=b.determineProvider();a(window).data("okoptions",b.options)};b.loadYoutubeAPI=function(){b.insertJS("http://www.youtube.com/player_api")};b.loadVimeoAPI=function(){a("#okplayer").replaceWith(function(){return'</div><iframe src="http://player.vimeo.com/video/'+b.options.source.id+"?api=1&js_api=1&title=0&byline=0&portrait=0&playbar=0&autoplay=1&loop="+b.options.loop+'&player_id=okplayer" frameborder="0" style="'+a(this).attr("style")+'" id="'+a(this).attr("id")+
'"></iframe>'});b.insertJS("http://a.vimeocdn.com/js/froogaloop2.min.js",function(){vimeoPlayerReady()})};b.insertJS=function(b,a){var c=document.createElement("script");a&&(c.readyState?c.onreadystatechange=function(){if("loaded"==c.readyState||"complete"==c.readyState)c.onreadystatechange=null,a()}:c.onload=function(){a()});c.src=b;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)};b.determineProvider=function(){if(/youtube.com/.test(b.options.source)||/vimeo.com/.test(b.options.source))return b.parseVideoURL(b.options.source);
if(/[A-Za-z0-9_]+/.test(b.options.source)){var a=new String(b.options.source.match(/[A-Za-z0-9_]+/));if(11==a.length)return{provider:"youtube",id:a};for(a=0;a<b.options.source.length;a++)if("number"!=typeof parseInt(b.options.source[a]))throw"not vimeo but thought it was for a sec";return{provider:"vimeo",id:b.options.source}}};b.parseVideoURL=function(a){var b={};if(-1!=a.indexOf("youtube.com/watch"))b.provider="youtube",a=(a=a.match(/(\?|&)v\=([^&]*)(&|$)/))?a[2]:"",b.id=a;else if(a=a.match(/vimeo.com\/(\d+)/))b.provider=
"vimeo",b.id=a[1];return b};b.init()};a.okvideo.options={source:null,disableKeyControl:1,captions:0,loop:1};a.fn.okvideo=function(c){return this.each(function(){new a.okvideo(c)})}})(jQuery);function vimeoPlayerReady(){for(var a=document.querySelectorAll("iframe"),c=0,b=a.length;c<b;c++)$f(a[c]).addEvent("ready",OKEvents.v.ready)}
function onYouTubePlayerAPIReady(){var a=$(window).data("okoptions");player=new YT.Player("okplayer",{videoId:a.source.id,playerVars:{autohide:1,autoplay:1,disablekb:a.keyControls,cc_load_policy:a.captions,controls:0,enablejsapi:1,fs:0,iv_load_policy:1,loop:a.loop,showinfo:0,rel:0,wmode:"opaque"},events:{onReady:OKEvents.yt.ready,onError:OKEvents.yt.error}})}OKEvents={yt:{ready:function(a){a.target.mute()},error:function(a){throw a;}},v:{ready:function(a){$f(a).api("api_setVolume",0)}}};
